import{aM as sn,aN as an,aO as l,a8 as on,aP as I,aQ as C,aR as E,aS as un,a6 as _,aT as cn,aU as X,aV as y,aW as rn,aX as yn,aY as en}from"./index-EvFfW_6K.js";function fn(i){return i.innerRadius}function ln(i){return i.outerRadius}function gn(i){return i.startAngle}function pn(i){return i.endAngle}function xn(i){return i&&i.padAngle}function mn(i,d,q,F,v,M,z,a){var B=q-i,r=F-d,n=z-v,p=a-M,u=p*B-n*r;if(!(u*u<l))return u=(n*(d-M)-p*(i-v))/u,[i+u*B,d+u*r]}function U(i,d,q,F,v,M,z){var a=i-q,B=d-F,r=(z?M:-M)/X(a*a+B*B),n=r*B,p=-r*a,u=i+n,s=d+p,e=q+n,f=F+p,D=(u+e)/2,o=(s+f)/2,x=e-u,g=f-s,T=x*x+g*g,A=v-M,O=u*f-e*s,L=(g<0?-1:1)*X(yn(0,A*A*T-O*O)),P=(O*g-x*L)/T,S=(-O*x-g*L)/T,R=(O*g+x*L)/T,m=(-O*x+g*L)/T,h=P-D,t=S-o,c=R-D,H=m-o;return h*h+t*t>c*c+H*H&&(P=R,S=m),{cx:P,cy:S,x01:-n,y01:-p,x11:P*(v/A-1),y11:S*(v/A-1)}}function dn(){var i=fn,d=ln,q=_(0),F=null,v=gn,M=pn,z=xn,a=null,B=sn(r);function r(){var n,p,u=+i.apply(this,arguments),s=+d.apply(this,arguments),e=v.apply(this,arguments)-an,f=M.apply(this,arguments)-an,D=un(f-e),o=f>e;if(a||(a=n=B()),s<u&&(p=s,s=u,u=p),!(s>l))a.moveTo(0,0);else if(D>on-l)a.moveTo(s*I(e),s*C(e)),a.arc(0,0,s,e,f,!o),u>l&&(a.moveTo(u*I(f),u*C(f)),a.arc(0,0,u,f,e,o));else{var x=e,g=f,T=e,A=f,O=D,L=D,P=z.apply(this,arguments)/2,S=P>l&&(F?+F.apply(this,arguments):X(u*u+s*s)),R=E(un(s-u)/2,+q.apply(this,arguments)),m=R,h=R,t,c;if(S>l){var H=rn(S/u*C(P)),Y=rn(S/s*C(P));(O-=H*2)>l?(H*=o?1:-1,T+=H,A-=H):(O=0,T=A=(e+f)/2),(L-=Y*2)>l?(Y*=o?1:-1,x+=Y,g-=Y):(L=0,x=g=(e+f)/2)}var j=s*I(x),k=s*C(x),b=u*I(A),G=u*C(A);if(R>l){var N=s*I(g),Q=s*C(g),V=u*I(T),Z=u*C(T),W;if(D<cn)if(W=mn(j,k,V,Z,N,Q,b,G)){var $=j-W[0],w=k-W[1],J=N-W[0],K=Q-W[1],nn=1/C(en(($*J+w*K)/(X($*$+w*w)*X(J*J+K*K)))/2),tn=X(W[0]*W[0]+W[1]*W[1]);m=E(R,(u-tn)/(nn-1)),h=E(R,(s-tn)/(nn+1))}else m=h=0}L>l?h>l?(t=U(V,Z,j,k,s,h,o),c=U(N,Q,b,G,s,h,o),a.moveTo(t.cx+t.x01,t.cy+t.y01),h<R?a.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(c.y01,c.x01),!o):(a.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(t.y11,t.x11),!o),a.arc(0,0,s,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),!o),a.arc(c.cx,c.cy,h,y(c.y11,c.x11),y(c.y01,c.x01),!o))):(a.moveTo(j,k),a.arc(0,0,s,x,g,!o)):a.moveTo(j,k),!(u>l)||!(O>l)?a.lineTo(b,G):m>l?(t=U(b,G,N,Q,u,-m,o),c=U(j,k,V,Z,u,-m,o),a.lineTo(t.cx+t.x01,t.cy+t.y01),m<R?a.arc(t.cx,t.cy,m,y(t.y01,t.x01),y(c.y01,c.x01),!o):(a.arc(t.cx,t.cy,m,y(t.y01,t.x01),y(t.y11,t.x11),!o),a.arc(0,0,u,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),o),a.arc(c.cx,c.cy,m,y(c.y11,c.x11),y(c.y01,c.x01),!o))):a.arc(0,0,u,A,T,o)}if(a.closePath(),n)return a=null,n+""||null}return r.centroid=function(){var n=(+i.apply(this,arguments)+ +d.apply(this,arguments))/2,p=(+v.apply(this,arguments)+ +M.apply(this,arguments))/2-cn/2;return[I(p)*n,C(p)*n]},r.innerRadius=function(n){return arguments.length?(i=typeof n=="function"?n:_(+n),r):i},r.outerRadius=function(n){return arguments.length?(d=typeof n=="function"?n:_(+n),r):d},r.cornerRadius=function(n){return arguments.length?(q=typeof n=="function"?n:_(+n),r):q},r.padRadius=function(n){return arguments.length?(F=n==null?null:typeof n=="function"?n:_(+n),r):F},r.startAngle=function(n){return arguments.length?(v=typeof n=="function"?n:_(+n),r):v},r.endAngle=function(n){return arguments.length?(M=typeof n=="function"?n:_(+n),r):M},r.padAngle=function(n){return arguments.length?(z=typeof n=="function"?n:_(+n),r):z},r.context=function(n){return arguments.length?(a=n??null,r):a},r}export{dn as h};
