import{az as v,b6 as F,ao as Q,aA as K,b7 as ee,b8 as E,b9 as te,ba as re,bb as se,bc as ne,ax as z,aC as ie,av as oe,bd as y,aq as A,be as ae,bf as G,bg as m,bh as Z,bi as ue,bj as M,bk as he,bl as x}from"./index-EvFfW_6K.js";import{M as c,q as j,Z as _,Y as ce,X as de,H as le,y as _e,d as be,e as pe,B as fe,f as H,r as ge,g as ve}from"./_baseUniq-Ct25NOJ9-BqPXUSUN.js";function je(t,e){return t&&y(e,c(e),t)}function me(t,e){return t&&y(e,A(e),t)}function ye(t,e){return y(t,H(t),e)}var we=Object.getOwnPropertySymbols,R=we?function(t){for(var e=[];t;)ge(e,H(t)),t=ue(t);return e}:fe;function Oe(t,e){return y(t,R(t),e)}function Ce(t){return ve(t,A,R)}var Ee=Object.prototype,Ae=Ee.hasOwnProperty;function Ne(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Ae.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function De(t,e){var r=e?G(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Le=/\w*$/;function Pe(t){var e=new t.constructor(t.source,Le.exec(t));return e.lastIndex=t.lastIndex,e}var S=M?M.prototype:void 0,I=S?S.valueOf:void 0;function Fe(t){return I?Object(I.call(t)):{}}var Me="[object Boolean]",xe="[object Date]",Se="[object Map]",Ie="[object Number]",Ue="[object RegExp]",ke="[object Set]",Be="[object String]",qe="[object Symbol]",$e="[object ArrayBuffer]",ze="[object DataView]",Ge="[object Float32Array]",Ze="[object Float64Array]",He="[object Int8Array]",Re="[object Int16Array]",Xe="[object Int32Array]",Ye="[object Uint8Array]",Je="[object Uint8ClampedArray]",Te="[object Uint16Array]",Ve="[object Uint32Array]";function We(t,e,r){var s=t.constructor;switch(e){case $e:return G(t);case Me:case xe:return new s(+t);case ze:return De(t,r);case Ge:case Ze:case He:case Re:case Xe:case Ye:case Je:case Te:case Ve:return ae(t,r);case Se:return new s;case Ie:case Be:return new s(t);case Ue:return Pe(t);case ke:return new s;case qe:return Fe(t)}}var Qe="[object Map]";function Ke(t){return Z(t)&&E(t)==Qe}var U=m&&m.isMap,et=U?z(U):Ke,tt="[object Set]";function rt(t){return Z(t)&&E(t)==tt}var k=m&&m.isSet,st=k?z(k):rt,nt=1,it=2,ot=4,X="[object Arguments]",at="[object Array]",ut="[object Boolean]",ht="[object Date]",ct="[object Error]",Y="[object Function]",dt="[object GeneratorFunction]",lt="[object Map]",_t="[object Number]",J="[object Object]",bt="[object RegExp]",pt="[object Set]",ft="[object String]",gt="[object Symbol]",vt="[object WeakMap]",jt="[object ArrayBuffer]",mt="[object DataView]",yt="[object Float32Array]",wt="[object Float64Array]",Ot="[object Int8Array]",Ct="[object Int16Array]",Et="[object Int32Array]",At="[object Uint8Array]",Nt="[object Uint8ClampedArray]",Dt="[object Uint16Array]",Lt="[object Uint32Array]",a={};a[X]=a[at]=a[jt]=a[mt]=a[ut]=a[ht]=a[yt]=a[wt]=a[Ot]=a[Ct]=a[Et]=a[lt]=a[_t]=a[J]=a[bt]=a[pt]=a[ft]=a[gt]=a[At]=a[Nt]=a[Dt]=a[Lt]=!0;a[ct]=a[Y]=a[vt]=!1;function w(t,e,r,s,n,o){var i,u=e&nt,h=e&it,V=e&ot;if(i!==void 0)return i;if(!K(t))return t;var N=oe(t);if(N){if(i=Ne(t),!u)return ee(t,i)}else{var p=E(t),D=p==Y||p==dt;if(te(t))return re(t,u);if(p==J||p==X||D&&!n){if(i=h||D?{}:se(t),!u)return h?Oe(t,me(i,t)):ye(t,je(i,t))}else{if(!a[p])return n?t:{};i=We(t,p,u)}}o||(o=new ne);var L=o.get(t);if(L)return L;o.set(t,i),st(t)?t.forEach(function(d){i.add(w(d,e,r,d,t,o))}):et(t)&&t.forEach(function(d,l){i.set(l,w(d,e,r,l,t,o))});var W=V?h?Ce:be:h?A:c,P=N?void 0:W(t);return pe(P||t,function(d,l){P&&(l=d,d=t[l]),ie(i,l,w(d,e,r,l,t,o))}),i}function Pt(t,e){return _e(e,function(r){return t[r]})}function O(t){return t==null?[]:Pt(t,c(t))}function f(t){return t===void 0}var Ft=Q(function(t){return de(le(t,1,he,!0))}),Mt="\0",b="\0",B="";class T{constructor(e={}){this._isDirected=Object.prototype.hasOwnProperty.call(e,"directed")?e.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(e,"multigraph")?e.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=v(void 0),this._defaultEdgeLabelFn=v(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[b]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return F(e)||(e=v(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return c(this._nodes)}sources(){var e=this;return j(this.nodes(),function(r){return x(e._in[r])})}sinks(){var e=this;return j(this.nodes(),function(r){return x(e._out[r])})}setNodes(e,r){var s=arguments,n=this;return _(e,function(o){s.length>1?n.setNode(o,r):n.setNode(o)}),this}setNode(e,r){return Object.prototype.hasOwnProperty.call(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=b,this._children[e]={},this._children[b][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.prototype.hasOwnProperty.call(this._nodes,e)}removeNode(e){if(Object.prototype.hasOwnProperty.call(this._nodes,e)){var r=s=>this.removeEdge(this._edgeObjs[s]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],_(this.children(e),s=>{this.setParent(s)}),delete this._children[e]),_(c(this._in[e]),r),delete this._in[e],delete this._preds[e],_(c(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(f(r))r=b;else{r+="";for(var s=r;!f(s);s=this.parent(s))if(s===e)throw new Error("Setting "+r+" as parent of "+e+" would create a cycle");this.setNode(r)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=r,this._children[r][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var r=this._parent[e];if(r!==b)return r}}children(e){if(f(e)&&(e=b),this._isCompound){var r=this._children[e];if(r)return c(r)}else{if(e===b)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var r=this._preds[e];if(r)return c(r)}successors(e){var r=this._sucs[e];if(r)return c(r)}neighbors(e){var r=this.predecessors(e);if(r)return Ft(r,this.successors(e))}isLeaf(e){var r;return this.isDirected()?r=this.successors(e):r=this.neighbors(e),r.length===0}filterNodes(e){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var s=this;_(this._nodes,function(i,u){e(u)&&r.setNode(u,i)}),_(this._edgeObjs,function(i){r.hasNode(i.v)&&r.hasNode(i.w)&&r.setEdge(i,s.edge(i))});var n={};function o(i){var u=s.parent(i);return u===void 0||r.hasNode(u)?(n[i]=u,u):u in n?n[u]:o(u)}return this._isCompound&&_(r.nodes(),function(i){r.setParent(i,o(i))}),r}setDefaultEdgeLabel(e){return F(e)||(e=v(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return O(this._edgeObjs)}setPath(e,r){var s=this,n=arguments;return ce(e,function(o,i){return n.length>1?s.setEdge(o,i,r):s.setEdge(o,i),i}),this}setEdge(){var e,r,s,n,o=!1,i=arguments[0];typeof i=="object"&&i!==null&&"v"in i?(e=i.v,r=i.w,s=i.name,arguments.length===2&&(n=arguments[1],o=!0)):(e=i,r=arguments[1],s=arguments[3],arguments.length>2&&(n=arguments[2],o=!0)),e=""+e,r=""+r,f(s)||(s=""+s);var u=g(this._isDirected,e,r,s);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,u))return o&&(this._edgeLabels[u]=n),this;if(!f(s)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(r),this._edgeLabels[u]=o?n:this._defaultEdgeLabelFn(e,r,s);var h=xt(this._isDirected,e,r,s);return e=h.v,r=h.w,Object.freeze(h),this._edgeObjs[u]=h,q(this._preds[r],e),q(this._sucs[e],r),this._in[r][u]=h,this._out[e][u]=h,this._edgeCount++,this}edge(e,r,s){var n=arguments.length===1?C(this._isDirected,arguments[0]):g(this._isDirected,e,r,s);return this._edgeLabels[n]}hasEdge(e,r,s){var n=arguments.length===1?C(this._isDirected,arguments[0]):g(this._isDirected,e,r,s);return Object.prototype.hasOwnProperty.call(this._edgeLabels,n)}removeEdge(e,r,s){var n=arguments.length===1?C(this._isDirected,arguments[0]):g(this._isDirected,e,r,s),o=this._edgeObjs[n];return o&&(e=o.v,r=o.w,delete this._edgeLabels[n],delete this._edgeObjs[n],$(this._preds[r],e),$(this._sucs[e],r),delete this._in[r][n],delete this._out[e][n],this._edgeCount--),this}inEdges(e,r){var s=this._in[e];if(s){var n=O(s);return r?j(n,function(o){return o.v===r}):n}}outEdges(e,r){var s=this._out[e];if(s){var n=O(s);return r?j(n,function(o){return o.w===r}):n}}nodeEdges(e,r){var s=this.inEdges(e,r);if(s)return s.concat(this.outEdges(e,r))}}T.prototype._nodeCount=0;T.prototype._edgeCount=0;function q(t,e){t[e]?t[e]++:t[e]=1}function $(t,e){--t[e]||delete t[e]}function g(t,e,r,s){var n=""+e,o=""+r;if(!t&&n>o){var i=n;n=o,o=i}return n+B+o+B+(f(s)?Mt:s)}function xt(t,e,r,s){var n=""+e,o=""+r;if(!t&&n>o){var i=n;n=o,o=i}var u={v:n,w:o};return s&&(u.name=s),u}function C(t,e){return g(t,e.v,e.w,e.name)}export{O as E,w as O,T as X,f as _};
